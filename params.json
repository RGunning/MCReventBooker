{"name":"Mcreventbooker","tagline":"Clare college MCR Formal Dinner Booking","body":"MCReventBooker\r\n==============\r\n\r\nThe scripts hosted within this repository are for the automation of booking Clare College MCR Formal tickets.\r\nThere are two script procedures for booking tickets. The first uses *booker_getevent.sh*, *bookevent.sh* and *queueevent.sh*. \r\nThis method is fast, avoiding network traffic on the system, however it is completely time dependent, if the bookevent queue is late going live, then this method will FAIL.\r\nThe second method uses the script *booker.sh*. This script is more robust, refreshing the bookevent page until the queue goes live. However, it is much slower as it can get stuck in network traffic.\r\nThe event name may need updated weekly, in the crontab, to reflect the name given on the [website](http://mcr.clare.cam.ac.uk/events/mealbooker.py).  \r\n\r\n\r\nScript Usage\r\n-------------\r\n\r\nTo use these scripts, access to a UNIX commandline is necessary. A free account is available from the [SRCF](http://www.srcf.net/). \r\n\r\nAfter Downloading and unpacking the distribution, go to the file directory <pre><code>cd MCReventBooker</code></pre> and make the scripts executable <pre><code>chmod 770 *</code></pre>. \r\nMove the scripts to your bin. <pre><code>mkdir ~/bin; mv * ~/bin/</code></pre> \r\n\r\nNow create a passwordFile (.my.cnf) containing your raven password. \r\nThis file must be of the form password=[raven.password]\r\n\r\nE.g. The .my.cnf file should look like this \r\n<pre><code>password=\"P4SSW0RD\"</code></pre>\r\n\r\nset the file to be read only by the user\r\n<pre><code>chmod 600 ~/.my.cnf</code></pre>\r\n\r\ncreate a new folder if you want both the fast and robust scripts to run simultaneously\r\n<pre><code>mkdir ~/bookdir</code></pre>  \r\n\r\nNow Call the scripts using crontab\r\nAdd the following lines to your crontab <pre><code>crontab -e</code></pre>\r\n\r\n<pre><code>\\## Formal Dinner Booker Sunday\r\n\\# Fast script\r\n59 20 * * 0 booker_getevent.sh -p ~/[passwordFile] -t 1 -u [raven.username] -e \"[Event.Name]\"\r\n00 21 * * 0 bookevent.sh\r\n00 21 * * 0 queueevent.sh \r\n\\# Robust script\r\n59 20 * * 0 (cd bookdir; sleep 30; booker.sh -t 1 -u [raven.username] -p ~/[passwordFile] -e \"[Event.Name]\")\r\n</code></pre>\r\n\r\n*booker_getevent.sh* and *booker.sh* should be called before the queue goes live, i.e. at 20:59.\r\n*bookevent.sh* and *queueevent.sh* are called simultaneously as the queue goes live, i.e. at 21:00.\r\n\r\n# example\r\n<pre><code>59 20 * * ) booker_getevent.sh -p ~/.my.cnf -t 1 -u rjg70 -e \"Formal Dinner\"</code></pre>\r\n\r\n#Command Line Options\r\n-t : number of tickets [1-2]  \r\n-p : passwordFile e.g. ~/.my.cnf  \r\n-e : event name  \r\n-u : raven username  \r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}